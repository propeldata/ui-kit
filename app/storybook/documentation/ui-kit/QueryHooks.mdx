import { ArgTypes, Meta } from '@storybook/blocks'
import LinkTo from '@storybook/addon-links/react'
import { SourceCode } from '../../.storybook/blocks/SourceCode'
import * as useCounterQueryStories from '../../../../packages/ui-kit/src/hooks/useCounter/useCounter.stories'
import * as CounterQueryPropsStories from '../../../../packages/ui-kit/src/components/Counter/CounterQueryProps.stories'

<Meta title="Customization/Query Hooks" />

# Query Hooks

Propelâ€™s UI Kit library provides the following React components: Counter, TimeSeries, and Leaderboard. To query the GraphQL API, we have developed 
Query Hooks including "useCounter", "useLeaderboard" and "useTimeSeries.

## useCounter

<SourceCode of={useCounterQueryStories.FractionUnicode} shown />

### `useCounter Query Hook Props`

<ArgTypes of={CounterQueryPropsStories.Primary} sort="alpha" />

See the documentation below for a complete reference to all of the props for FilterInput and TimeRangeInput, which are mentioned here.

- <LinkTo kind="API/FilterInput" story="overview">
    FilterInput
  </LinkTo>
- <LinkTo kind="API/TimeRangeInput" story="overview">
    TimeRangeInput
  </LinkTo>


## useTimeSeries

```ts  
import { useTimeSeries } from "@propeldata/ui-kit"  
import { renderChart } from './chart'

export default function TimeSeriesChart(props) {
  const {data} = useTimeSeries({ query, timeZone})

    React.useEffect(() => {
    if (data) {
      const labels = data.timeSeries.labels ?? []
      const values = data.timeSeries.values ?? []

      renderChart({ labels, values })
    }
  }, [data, renderChart])

  return (<canvas id={id} ref={chartRef} />)
}
```  

## useLeaderboard

```ts  
import { useLeaderboard } from "@propeldata/ui-kit"  
import { Table } from './table'

export default function Fraction(props) {
  const { data } = useLeaderboard({ query, timeZone})

  const headers = data?.leaderboard.headers
  const rows = data?.leaderboard.rows

  return (<Table header={headers} rows={rows} />)
}
```  